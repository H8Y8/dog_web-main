# ğŸ“¸ ç…§ç‰‡ç®¡ç†å’Œéƒ¨ç½²æŒ‡å—

## ğŸ¯ ç›®æ¨™
é€™å€‹ç³»çµ±è®“æ‚¨å¯ä»¥åœ¨æœ¬åœ°å­˜æ”¾æ‰€æœ‰1.4GBçš„ç…§ç‰‡è³‡æºï¼Œä½†åœ¨éƒ¨ç½²æ™‚åªä¸Šå‚³æ‚¨é¸å®šå’Œå„ªåŒ–éçš„ç…§ç‰‡ï¼Œé¿å…æµªè²»ç©ºé–“å’Œæ™‚é–“ã€‚

## ğŸ“‚ è³‡æ–™å¤¾çµæ§‹

```
å°ˆæ¡ˆæ ¹ç›®éŒ„/
â”œâ”€â”€ photos-source/ (æœ¬åœ°é–‹ç™¼ç”¨ï¼Œä¸æœƒè¢«gitè¿½è¹¤æˆ–éƒ¨ç½²)
â”‚   â”œâ”€â”€ original/     - å­˜æ”¾1.4GBåŸå§‹ç…§ç‰‡
â”‚   â”œâ”€â”€ candidates/   - ç¯©é¸å¾Œçš„å€™é¸ç…§ç‰‡
â”‚   â”‚   â”œâ”€â”€ gallery/      - ç•«å»Šå±•ç¤ºç”¨å€™é¸ç…§ç‰‡
â”‚   â”‚   â”œâ”€â”€ puppies/      - å¹¼çŠ¬è©³æƒ…å€™é¸ç…§ç‰‡
â”‚   â”‚   â”œâ”€â”€ environment/  - ç’°å¢ƒä»‹ç´¹å€™é¸ç…§ç‰‡
â”‚   â”‚   â””â”€â”€ diary/        - æ—¥èªŒæ–‡ç« å€™é¸ç…§ç‰‡
â”‚   â””â”€â”€ selected/     - æœ€çµ‚é¸å®šçš„ç…§ç‰‡
â””â”€â”€ public/images/ (æœƒè¢«gitè¿½è¹¤å’Œéƒ¨ç½²)
    â”œâ”€â”€ gallery/          - å„ªåŒ–å¾Œçš„ç•«å»Šç…§ç‰‡
    â”œâ”€â”€ puppies-detail/   - å„ªåŒ–å¾Œçš„å¹¼çŠ¬ç…§ç‰‡
    â”œâ”€â”€ environment-detail/ - å„ªåŒ–å¾Œçš„ç’°å¢ƒç…§ç‰‡
    â””â”€â”€ diary-photos/     - å„ªåŒ–å¾Œçš„æ—¥èªŒç…§ç‰‡
```

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### æ­¥é©Ÿ1: å­˜æ”¾åŸå§‹ç…§ç‰‡
```bash
# å°‡æ‚¨çš„1.4GBç…§ç‰‡æ”¾å…¥æ­¤ç›®éŒ„
cp /path/to/your/photos/* photos-source/original/
```

### æ­¥é©Ÿ2: ç¯©é¸å€™é¸ç…§ç‰‡
æ ¹æ“šç”¨é€”ï¼Œå°‡ç…§ç‰‡è¤‡è£½åˆ°å°æ‡‰çš„å€™é¸ç›®éŒ„ï¼š
```bash
# ç•«å»Šå±•ç¤ºç…§ç‰‡
cp photos-source/original/gallery_photo1.jpg photos-source/candidates/gallery/

# å¹¼çŠ¬è©³æƒ…ç…§ç‰‡  
cp photos-source/original/puppy_photo1.jpg photos-source/candidates/puppies/

# ç’°å¢ƒä»‹ç´¹ç…§ç‰‡
cp photos-source/original/environment_photo1.jpg photos-source/candidates/environment/

# æ—¥èªŒæ–‡ç« ç…§ç‰‡
cp photos-source/original/diary_photo1.jpg photos-source/candidates/diary/
```

### æ­¥é©Ÿ3: æ‰¹é‡å„ªåŒ–ç…§ç‰‡
```bash
# å„ªåŒ–ç‰¹å®šé¡å‹çš„ç…§ç‰‡
npm run optimize-photos gallery      # ç•«å»Šç…§ç‰‡
npm run optimize-photos puppies      # å¹¼çŠ¬ç…§ç‰‡  
npm run optimize-photos environment  # ç’°å¢ƒç…§ç‰‡
npm run optimize-photos diary        # æ—¥èªŒç…§ç‰‡

# æˆ–ä¸€æ¬¡å„ªåŒ–æ‰€æœ‰é¡å‹
npm run optimize-all
```

### æ­¥é©Ÿ4: æª¢æŸ¥éƒ¨ç½²æº–å‚™
```bash
# æª¢æŸ¥ç…§ç‰‡å¤§å°å’Œéƒ¨ç½²æº–å‚™
npm run deploy-check

# å®Œæ•´çš„éƒ¨ç½²å‰æª¢æŸ¥å’Œæ§‹å»º
npm run pre-deploy
```

## âš™ï¸ å¯ç”¨çš„è…³æœ¬å‘½ä»¤

| å‘½ä»¤ | åŠŸèƒ½ | èªªæ˜ |
|------|------|------|
| `npm run optimize-photos <type>` | å„ªåŒ–æŒ‡å®šé¡å‹ç…§ç‰‡ | type: gallery, puppies, environment, diary |
| `npm run optimize-all` | å„ªåŒ–æ‰€æœ‰é¡å‹ç…§ç‰‡ | ä¸€æ¬¡è™•ç†æ‰€æœ‰å€™é¸ç…§ç‰‡ |
| `npm run optimize-existing` | å„ªåŒ–ç¾æœ‰å¤§æª”æ¡ˆ | è™•ç†public/imagesä¸­çš„å¤§åœ–ç‰‡ |
| `npm run deploy-check` | éƒ¨ç½²å‰æª¢æŸ¥ | æª¢æŸ¥ç…§ç‰‡å¤§å°å’Œéƒ¨ç½²æº–å‚™ |
| `npm run pre-deploy` | å®Œæ•´éƒ¨ç½²æº–å‚™ | æª¢æŸ¥+æ§‹å»º |

## ğŸ“ ç…§ç‰‡è¦æ ¼æ¨™æº–

| ç”¨é€” | å°ºå¯¸ | å“è³ª | å»ºè­°å¤§å° |
|------|------|------|----------|
| ç•«å»Šå±•ç¤º | 1200x800px | 85% | <200KB |
| å¹¼çŠ¬è©³æƒ… | 800x600px | 90% | <150KB |
| ç’°å¢ƒä»‹ç´¹ | 1200x800px | 85% | <200KB |
| æ—¥èªŒæ–‡ç«  | 600x400px | 80% | <100KB |

## ğŸš€ éƒ¨ç½²æµç¨‹

### æœ¬åœ°éƒ¨ç½²æª¢æŸ¥
```bash
npm run deploy-check
```

### Zeabur éƒ¨ç½²
1. ç¢ºä¿æ‰€æœ‰å¤§æª”æ¡ˆå·²å„ªåŒ–
2. æª¢æŸ¥ `.gitignore` æ­£ç¢ºæ’é™¤ `photos-source/`
3. æäº¤ä»£ç¢¼åˆ°git
4. æ¨é€åˆ°é ç«¯å€‰åº«
5. Zeaburæœƒè‡ªå‹•éƒ¨ç½²ï¼ˆåªåŒ…å«public/imagesä¸­çš„å„ªåŒ–ç…§ç‰‡ï¼‰

## ğŸ”§ æ•…éšœæ’é™¤

### å•é¡Œï¼šè…³æœ¬é¡¯ç¤º"è«‹å…ˆå®‰è£sharpå¥—ä»¶"
```bash
npm install sharp --save-dev
```

### å•é¡Œï¼šå„ªåŒ–å¾Œç…§ç‰‡å“è³ªä¸æ»¿æ„
ä¿®æ”¹ `scripts/optimize-photos.js` ä¸­çš„é…ç½®ï¼š
```javascript
const photoConfigs = {
  gallery: { width: 1200, height: 800, quality: 90, maxSize: 250 }, // æé«˜å“è³ªå’Œå¤§å°é™åˆ¶
  // ...
}
```

### å•é¡Œï¼šéœ€è¦é‚„åŸåŸå§‹ç…§ç‰‡
```bash
node scripts/optimize-existing.js restore  # é‚„åŸå‚™ä»½
```

### å•é¡Œï¼šæ¸…ç†å‚™ä»½æª”æ¡ˆ
```bash
node scripts/optimize-existing.js clean    # æ¸…ç†å‚™ä»½
```

## ğŸ¯ æœ€ä½³å¯¦è¸

1. **å®šæœŸå‚™ä»½**: åŸå§‹ç…§ç‰‡è«‹ç¢ºä¿æœ‰é¡å¤–å‚™ä»½
2. **åˆ†æ‰¹è™•ç†**: å¤§é‡ç…§ç‰‡å»ºè­°åˆ†æ‰¹å„ªåŒ–ï¼Œé¿å…è¨˜æ†¶é«”å•é¡Œ
3. **ç‰ˆæœ¬æ§åˆ¶**: é‡è¦è®Šæ›´å‰å…ˆæäº¤git
4. **å“è³ªæª¢æŸ¥**: å„ªåŒ–å¾Œæ‰‹å‹•æª¢æŸ¥ç…§ç‰‡å“è³ª
5. **å‘½åè¦ç¯„**: ä½¿ç”¨æœ‰æ„ç¾©çš„æª”æ¡ˆåç¨±

## ğŸ“Š ç©ºé–“ç¯€çœæ•ˆæœ

ä½¿ç”¨é€™å€‹ç³»çµ±çš„é æœŸæ•ˆæœï¼š
- **é–‹ç™¼ç’°å¢ƒ**: å¯å­˜å–æ‰€æœ‰1.4GBåŸå§‹ç…§ç‰‡
- **éƒ¨ç½²ç‰ˆæœ¬**: åªåŒ…å«20-50MBçš„å„ªåŒ–ç…§ç‰‡
- **è¼‰å…¥é€Ÿåº¦**: æå‡3-5å€
- **é »å¯¬ç¯€çœ**: æ¸›å°‘90%+çš„å‚³è¼¸é‡

## ğŸ”— ç›¸é—œæª”æ¡ˆ

- `scripts/optimize-photos.js` - ç…§ç‰‡å„ªåŒ–è…³æœ¬
- `scripts/optimize-existing.js` - ç¾æœ‰ç…§ç‰‡å„ªåŒ–
- `scripts/deploy-check.js` - éƒ¨ç½²æª¢æŸ¥è…³æœ¬
- `photos-source/README.md` - ç…§ç‰‡ç®¡ç†èªªæ˜
- `.gitignore` - æ’é™¤è¦å‰‡é…ç½® 